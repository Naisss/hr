@model Entity.salary_standard

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script src="~/javascript/jquery-1.12.4.js"></script>
    <script src="~/javascript/vue.js"></script>
    <link rel="stylesheet" href="../../css/table.css" type="text/css" />
    <script type="text/javascript" src="../../javascript/jquery-1.7.2.js"></script>
    <title>无标题文档</title>
    <style type="text/css">
        <!--
        .style3 {
            color: #0000CC;
        }
        -->
    </style>
    <script type="text/javascript">
        var rows = 0;
        var page = 0;
        var zhi = 1;
        var vm;
        $(function () {
             vm= new Vue({
                el: "#Table",
                data: {
                    nums: null,
                },
                methods: {
                    load: function () {
                        var t = this;
                        $.ajax({
                            url: "/standard/List/?currentpage=" + zhi,
                            type: "get",
                            success: function (msg) {
                                var data = eval("(" + msg + ")");
                                var dt = data["data"];
                                t.rows = data["rows"];
                                t.page = data["page"];
                                t.nums = dt;
                                page = t.page;
                                console.info(page + "000000000000");
                                $("#zy").text(t.rows);
                                $("#zy1").text(t.rows);
                                $("#my").text(2);
                                $("#dq").text(zhi);
                                $("#g").text(t.page);
                               
                                
                            }
                        });
                    },
                }
            });
            vm.load();
        });
       
        
        $(function () {
       
            $(document).on("click ", "#first1", function () {

                zhi = 1;
                vm.load();
            })
            $(document).on("click ", "#prev1", function () {
                if (zhi > 1) {
                    zhi--;
                }
                vm.load();
               
            })
            $(document).on("click ", "#next1", function () {
                if (zhi < page) {
                    zhi++;
                }
                vm.load();
            })
            $(document).on("click ", "#last1", function () {
                zhi = page;
                vm.load();
            })
            $(document).on("click ", "#dj", function () {
                var qs = document.getElementById("page").value;
                if (qs <= page) {
                    zhi = qs;
                    vm.load();
               
          
                }
            
            })
        })
       
    

    </script>
</head>
<body>

        <table width="100%">
            <tr>
                <td>
                    <font color="black">您正在做的业务是:人力资源管理--薪酬标准管理--薪酬标准登记复核</font>
                </td>
            </tr>
            <tr>
                <td>
                    &nbsp;
                </td>
            </tr>
            <tr>
                <td>
                    当前等待复核的薪酬标准总数:
                    <font style="color: maroon;  font-weight: bold;" id="zy1"></font>
                    例
                </td>
            </tr>
        </table>
    <div id="Table">
        <table width="100%" border="1" cellpadding=0 cellspacing=1
               bordercolorlight=#848284 bordercolordark=#eeeeee
               class="TABLE_STYLE1">
            <tr>
                <td width="18%" class="TD_STYLE1">
                    <span>薪酬标准编号</span>
                </td>
                <td width="19%" class="TD_STYLE1">
                    <span>薪酬标准名称</span>
                </td>
                <td width="16%" class="TD_STYLE1">
                    <span>制定人</span>
                </td>
                <td width="30%" class="TD_STYLE1">
                    <span>登记时间</span>
                </td>
                <td width="13%" class="TD_STYLE1">
                    薪酬总额
                </td>
                <td width="4%" class="TD_STYLE1">
                    复核
                </td>
            </tr>
            <tr v-for="(item,i) in nums">
                <td>{{item.standard_id}}</td>
                <td>{{item.standard_name}}</td>
                <td>{{item.designer}}</td>
                <td>{{item.regist_time}}</td>
                <td>{{item.salary_sum}}</td>
                <td><a :href="'/standard/Edit?id='+item.standard_id+''">复核</a></td>
            </tr>
        </table>
        <p>
            <div id="pageDiv" align="center" style="font-size: 18px;color: gray">
                <div id="leftPage"></div>
                <div id="rightPage">
                    &nbsp;&nbsp;总数：
                    <font style="color: maroon;  font-weight: bold;" id="zy" ></font>
                    例
                    &nbsp;&nbsp;&nbsp;
                    每页显示 <font style="color: maroon;font-weight: bold;" id="my"></font>
                    条
                    &nbsp;&nbsp;&nbsp;
                    当前第 <font style="color: maroon;font-weight: bold;" id="dq"></font>
                    页
                    &nbsp;&nbsp;&nbsp;共
                    <font style="color: maroon;font-weight: bold;" id="g"></font>
                    页
                    <a style="color: navy;font-weight: bold" href="javascript:doPage(1)" id="first1">首页</a>

                    <a style="color: navy;font-weight: bold"
                       href="javascript:doPage(0)" id="prev1">上一页</a>

                    <a style="color: navy;font-weight: bold"
                       href="javascript:doPage(0)" id="next1">下一页</a>

                    <a style="color: navy;font-weight: bold"
                       href="javascript:doPage(2)" id="last1">末页</a>
                    &nbsp;&nbsp;&nbsp;跳到第
                    <input id=page type=text value="1" class=input1 size=1>
                    页&nbsp;&nbsp;
                    <input type="image" onclick="dopagebybutton()" src="../../images/go.bmp" width=18 height=18 border=0 id="dj">
                    <input type="hidden" name="page.startPage" id="startpage" value="1">

                </div>
            </div>
        </p>
    </div>
                <script type="text/javascript">
                    function dopagebybutton() {
                        var reg = /^[0-9]*[1-9][0-9]*$/;
                        if (reg.test(document.getElementById("page").value)) {
                            document.getElementById("startpage").value = document.getElementById("page").value;
                        } else {
                            alert("您的输入有误");
                            document.getElementById("page").value = document.getElementById("startpage").value;
                        }
                        document.forms[0].submit();

                    }
                    function doPage(startsize) {
                        document.getElementById("startpage").value = startsize;
                        document.forms[0].submit();

                    }
                </script>


        </body>
    </html>






