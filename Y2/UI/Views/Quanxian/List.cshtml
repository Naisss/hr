
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>角色管理</title>
    <link href="~/css/table.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.7.2.js"></script>
    <script type="text/javascript">
        $(function()
        {
            var currentPage = 1;
            var pages = "";
               $.ajax
               ({
               url: "/Quanxian/List1",
               type: "post",
               data: "cr=" + currentPage,
               success: function (data) {
                   var di = eval("(" + data + ")");
                   var dt = di["dt"];
                   pages = di["pages"];
                   var rows = di["rows"];
                   $("#tb tr:gt(0)").remove();
                   for (var i=0;i<dt.length;i++) {
                       $tr = $("<tr></tr>");
                       $td1 = $('<td class="TD_STYLE2">' + dt[i]["RoleId"] + '</td>');
                       $td2 = $('<td class="TD_STYLE2">' + dt[i]["RoleName"] + '</td>');
                       $td3 = $('<td class="TD_STYLE2">' + dt[i]["Sm"] + '</td>');
                       $td4 = $('<td class="TD_STYLE2">' + dt[i]["Display"] + '</td>');
                       $td5 = $("<td class='TD_STYLE2'><a href='/Quanxian/information/" + dt[i]["RoleId"] + "'><img src='~/images/bt_edit.gif' title='编辑'/></a><a href='/Quanxian/Delete/" + dt[i]["RoleId"] + "'><img src='~/images/bt_del.gif' title='删除''/></a></td>");
                       $tr.append($td1, $td2, $td3, $td4, $td5);
                       $("#tb").append($tr);
                       $("#page").text(currentPage);
                       $("#count").text("当前角色总数：" + rows + "例");
                   }
               }
               })
               $("#first").click(function () {
                   currentPage = 1;
                   $.ajax({
                       url: "/Quanxian/List1",
                       type: "post",
                       data: "cr=" + currentPage,
                       success: function (data) {
                           var di = eval("(" + data + ")");
                           var dt = di["dt"];
                           pages = di["pages"];
                           var rows = di["rows"];
                           $("#tb tr:gt(0)").remove();
                           for (var i = 0; i < dt.length; i++) {
                               $tr = $("<tr></tr>");
                               $td1 = $('<td class="TD_STYLE2">' + dt[i]["RoleId"] + '</td>');
                               $td2 = $('<td class="TD_STYLE2">' + dt[i]["RoleName"] + '</td>');
                               $td3 = $('<td class="TD_STYLE2">' + dt[i]["Sm"] + '</td>');
                               $td4 = $('<td class="TD_STYLE2">' + dt[i]["Display"] + '</td>');
                               $td5 = $("<td class='TD_STYLE2'><a href='/Quanxian/information/" + dt[i]["RoleId"] + "'><img src='~/images/bt_edit.gif' title='编辑'/></a><a href='/Quanxian/Delete/" + dt[i]["RoleId"] + "'><img src='~/images/bt_del.gif' title='删除''/></a></td>");
                               $tr.append($td1, $td2, $td3, $td4, $td5);
                               $("#tb").append($tr);
                               $("#page").text(currentPage);
                               $("#count").text("当前角色总数：" + rows + "例");
                           }
                       }
                   });
               });
               $("#prev").click(function () {
                   currentPage--;
                   $.ajax({
                       url: "/Quanxian/List1",
                       type: "post",
                       data: "cr=" + currentPage,
                       success: function (data) {
                           var di = eval("(" + data + ")");
                           var dt = di["dt"];
                           pages = di["pages"];
                           var rows = di["rows"];
                           $("#tb tr:gt(0)").remove();
                           for (var i = 0; i < dt.length; i++) {
                               $tr = $("<tr></tr>");
                               $td1 = $('<td class="TD_STYLE2">' + dt[i]["RoleId"] + '</td>');
                               $td2 = $('<td class="TD_STYLE2">' + dt[i]["RoleName"] + '</td>');
                               $td3 = $('<td class="TD_STYLE2">' + dt[i]["Sm"] + '</td>');
                               $td4 = $('<td class="TD_STYLE2">' + dt[i]["Display"] + '</td>');
                               $td5 = $("<td class='TD_STYLE2'><a href='/Quanxian/information/" + dt[i]["RoleId"] + "'><img src='~/images/bt_edit.gif' title='编辑'/></a><a href='/Quanxian/Delete/" + dt[i]["RoleId"] + "'><img src='~/images/bt_del.gif' title='删除''/></a></td>");
                               $tr.append($td1, $td2, $td3, $td4, $td5);
                               $("#tb").append($tr);
                               $("#page").text(currentPage);
                               $("#count").text("当前角色总数：" + rows + "例");
                           }
                       }
                   })
               })
               $("#next").click(function () {
                   currentPage++;
                   $.ajax({
                       url: "/Quanxian/List1",
                       type: "post",
                       data: "cr=" + currentPage,
                       success: function (data) {
                           var di = eval("(" + data + ")");
                           var dt = di["dt"];
                           pages = di["pages"];
                           var rows = di["rows"];
                           $("#tb tr:gt(0)").remove();
                           for (var i = 0; i < dt.length; i++) {
                               $tr = $("<tr></tr>");
                               $td1 = $('<td class="TD_STYLE2">' + dt[i]["RoleId"] + '</td>');
                               $td2 = $('<td class="TD_STYLE2">' + dt[i]["RoleName"] + '</td>');
                               $td3 = $('<td class="TD_STYLE2">' + dt[i]["Sm"] + '</td>');
                               $td4 = $('<td class="TD_STYLE2">' + dt[i]["Display"] + '</td>');
                               $td5 = $("<td class='TD_STYLE2'><a href='/Quanxian/information/" + dt[i]["RoleId"] + "'><img src='~/images/bt_edit.gif' title='编辑'/></a><a href='/Quanxian/Delete/" + dt[i]["RoleId"] + "'><img src='~/images/bt_del.gif' title='删除''/></a></td>");
                               $tr.append($td1, $td2, $td3, $td4, $td5);
                               $("#tb").append($tr);
                               $("#page").text(currentPage);
                               $("#count").text("当前角色总数：" + rows + "例");
                           }
                       }
                   })
               })
               $("#last").click(function () {
                   currentPage = pages;
                   $.ajax({
                       url: "/Quanxian/List1",
                       type: "post",
                       data: "cr=" + currentPage,
                       success: function (data) {
                           var di = eval("(" + data + ")");
                           var dt = di["dt"];
                           pages = di["pages"];
                           var rows = di["rows"];
                           $("#tb tr:gt(0)").remove();
                           for (var i = 0; i < dt.length; i++) {
                               $tr = $("<tr></tr>");
                               $td1 = $('<td class="TD_STYLE2">' + dt[i]["RoleId"] + '</td>');
                               $td2 = $('<td class="TD_STYLE2">' + dt[i]["RoleName"] + '</td>');
                               $td3 = $('<td class="TD_STYLE2">' + dt[i]["Sm"] + '</td>');
                               $td4 = $('<td class="TD_STYLE2">' + dt[i]["Display"] + '</td>');
                               $td5 = $("<td class='TD_STYLE2'><a href='/Quanxian/information/" + dt[i]["RoleId"] + "'><img src='~/images/bt_edit.gif' title='编辑'/></a><a href='/Quanxian/Delete/" + dt[i]["RoleId"] + "'><img src='~/images/bt_del.gif' title='删除''/></a></td>");
                               $tr.append($td1, $td2, $td3, $td4, $td5);
                               $("#tb").append($tr);
                               $("#page").text(currentPage);
                               $("#count").text("当前角色总数：" + rows + "例");
                           }
                       }
                   })
               })
        })
    </script>
</head>
<body>
    <table width="100%" >
        <tr>
            <td>
                <font color="black">您正在做的业务是：人力资源--权限管理--角色管理 </font>
            </td>
        </tr>
        <tr>
            <td id="count">
            </td>
        </tr>
        <tr>
            <td align="right">
                <input type="submit" value="添加角色" class="BUTTON_STYLE1" onclick="location.href = '/Quanxian/AddJs'">
            </td>
        </tr>
    </table>
    <table width="100%" border="1" cellpadding=5 cellspacing=1
           bordercolorlight=#848284 bordercolordark=#eeeeee
           class="TABLE_STYLE1" id="tb">
        <tr class="TR_STYLE1">
            <td class="TD_STYLE1">
                角色编号
            </td>
            <td class="TD_STYLE1">
                角色名称
            </td>
            <td class="TD_STYLE1">
                角色说明
            </td>
            <td class="TD_STYLE1">
                是否可用
            </td>
            <td class="TD_STYLE1">
                操作
            </td>
        </tr>
    </table>
    <p style="text-align:center;">
        <a style="color:black;" id="first">首页</a>
        <a style="color:black;" id="prev">上一页</a>
        <font color="red" id="page"></font>
        <a  style="color:black;" id="next">下一页</a>
        <a style="color:black;" id="last">尾页</a>
    </p>
</body>
</html>
